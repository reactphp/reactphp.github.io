<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>EventLoop: EventLoop Component - ReactPHP</title>

        <meta name="description" content="ReactPHP&#039;s core reactor event loop that libraries can use for evented I/O.">

        <link rel="apple-touch-icon" sizes="180x180" href="https://reactphp.org/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://reactphp.org/favicon-32x32.png">
        <link rel="manifest" href="https://reactphp.org/manifest.json">
        <link rel="mask-icon" href="https://reactphp.org/safari-pinned-tab.svg" color="#4f5b93">
        <meta name="apple-mobile-web-app-title" content="ReactPHP">
        <meta name="application-name" content="ReactPHP">
        <meta name="theme-color" content="#f4f3f1">
        <meta name="msapplication-config" content="https://reactphp.org/browserconfig.xml" />

        <meta property="og:image" content="https://reactphp.org/og-image.png">

            <link rel="preload" href="../assets/sourcesanspro-regular.f84b2bd4.woff" as="font" type="font/woff" crossorigin>
        <link rel="preload" href="../assets/sourcesanspro-bold.cb7d3610.woff" as="font" type="font/woff" crossorigin>

        <script>window.__assets = '../assets/';</script>
        <script>!function(){"use strict";var e,t,n,r,o,i={},u={};function a(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return i[e].call(n.exports,n,n.exports,a),n.exports}a.m=i,e=[],a.O=function(t,n,r,o){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],o=e[l][2];for(var u=!0,f=0;f<n.length;f++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[f])}))?n.splice(f--,1):(u=!1,o<i&&(i=o));if(u){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))},a.u=function(e){return e+"."+{67:"ab055693",139:"820be3d5",261:"bd162b4a",553:"da065a6b"}[e]+".js"},a.miniCssF=function(e){return e+"."+{67:"4ae9feba",139:"3ced3f7b",553:"90d4e0e8"}[e]+".css"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},n="reactphp-website:",a.l=function(e,r,o,i){if(t[e])t[e].push(r);else{var u,f;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var s=c[l];if(s.getAttribute("src")==e||s.getAttribute("data-webpack")==n+o){u=s;break}}u||(f=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.setAttribute("data-webpack",n+o),u.src=e),t[e]=[r];var d=function(n,r){u.onerror=u.onload=null,clearTimeout(p);var o=t[e];if(delete t[e],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach((function(e){return e(r)})),n)return n(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),f&&document.head.appendChild(u)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="",r=function(e){return new Promise((function(t,n){var r=a.miniCssF(e),o=a.p+r;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(u=n[r]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(o===e||o===t))return u}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var u;if((o=(u=i[r]).getAttribute("data-href"))===e||o===t)return u}}(r,o))return t();!function(e,t,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(i){if(o.onerror=o.onload=null,"load"===i.type)n();else{var u=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,f=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");f.code="CSS_CHUNK_LOAD_FAILED",f.type=u,f.request=a,o.parentNode.removeChild(o),r(f)}},o.href=t,document.head.appendChild(o)}(e,o,t,n)}))},o={666:0},a.f.miniCss=function(e,t){o[e]?t.push(o[e]):0!==o[e]&&{67:1,139:1,553:1}[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))},function(){var e={666:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else if(666!=t){var o=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=o);var i=a.p+a.u(t),u=new Error;a.l(i,(function(n){if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,r[1](u)}}),"chunk-"+t,t)}else e[t]=0},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,i=n[0],u=n[1],f=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in u)a.o(u,r)&&(a.m[r]=u[r]);if(f)var l=f(a)}for(t&&t(n);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},n=self.webpackChunkreactphp_website=self.webpackChunkreactphp_website||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}()}();</script>
        <style>@font-face{font-display:swap;font-family:Source Sans Pro;font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(../assets/sourcesanspro-regular.f84b2bd4.woff) format("woff")}@font-face{font-display:swap;font-family:Source Sans Pro;font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(../assets/sourcesanspro-bold.cb7d3610.woff) format("woff")}@font-face{font-family:icons;font-style:normal;font-weight:400;src:url(../assets/icons.f41c5641.ttf?ae19fi) format("truetype"),url(../assets/icons.cf61dfff.woff?ae19fi) format("woff"),url(../assets/icons.b4abbede.svg?ae19fi#icons) format("svg")}[class*=" icon-"],[class^=icon-]{speak:none;-webkit-font-feature-settings:normal;font-feature-settings:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:icons!important;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-transform:none}.icon-hash:before{content:"\e900"}.icon-twitter:before{content:"\e901"}.icon-github:before{content:"\e902"}.icon-blog:before{content:"\e905"}.icon-earth:before{content:"\e903"}.icon-link:before{content:"\e906"}.icon-youtube:before{content:"\e904"}.icon-book:before{content:"\f007"}.icon-calendar:before{content:"\f068"}.icon-chevron-down:before{content:"\f0a3"}.icon-chevron-up:before{content:"\f0a2"}.icon-law:before{content:"\f0d8"}.icon-search:before{content:"\f02e"}.icon-x:before{content:"\f081"}.icon-feed:before{content:"\ea9b"}[class*=" icon-"],[class^=icon-]{vertical-align:-8%}html{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:16px;line-height:1.6}@media (max-width:768px){html{font-size:18px}}*,:after,:before{-webkit-box-sizing:inherit;box-sizing:inherit}body{background-color:#fff;color:#584b4f;color:var(--color-base);margin:0}a{color:#4f5b93;color:var(--color-key)}a:hover{color:#a2aacd;color:var(--color-key-light);text-decoration:underline}blockquote{background-color:#f4f3f1;background-color:var(--color-background-lighter);border-left:4px solid #4f5b93;border-left:4px solid var(--color-key);border-radius:4px;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.1);box-shadow:0 1px 0 0 rgba(0,0,0,.1);-webkit-box-shadow:var(--box-shadow-lighter);box-shadow:var(--box-shadow-lighter);font-size:.875rem;padding:16px 16px 16px 24px;position:relative}blockquote:before{background:#4f5b93;background:var(--color-key);border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;content:"i";display:block;font-size:12px;font-weight:700;height:24px;left:-14px;line-height:24px;padding:0 4px;position:absolute;text-align:center;top:12px;width:24px}blockquote :last-child{margin-bottom:0}blockquote,fieldset,form,h1,h2,h3,h4,h5,h6,hr,ol,p,ul{margin:0 0 16px}ul ul{margin-bottom:0}hr{border:0;border-bottom:1px dashed #eae8e3;border-bottom:1px dashed var(--color-background-light);clear:both;height:0;padding:0}h1,h2,h3,h4,h5,h6{-webkit-font-smoothing:antialiased;color:#584b4f;color:var(--color-base);font-family:Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-weight:700;line-height:1}h1 a,h1 a:hover,h2 a,h2 a:hover,h3 a,h3 a:hover,h4 a,h4 a:hover,h5 a,h5 a:hover,h6 a,h6 a:hover{text-decoration:none}h1{font-size:2.5rem;letter-spacing:-1px;margin-bottom:32px}h1,h1 a,h1 a:hover{color:#4f5b93;color:var(--color-key)}h1:not(:first-child){margin-top:32px}h2{font-size:2rem;margin-bottom:32px}h2,h2 a,h2 a:hover{color:#4f5b93;color:var(--color-key)}h2:not(:first-child){margin-top:32px}h3{font-size:1.5rem;margin-bottom:24px}h3,h3 a,h3 a:hover{color:#584b4f;color:var(--color-base)}h3:not(:first-child){margin-top:24px}h4{font-size:1.25rem}h4,h4 a,h4 a:hover{color:#4f5b93;color:var(--color-key)}h4:not(:first-child){margin-top:24px}@media (max-width:768px){h1{font-size:2rem}h2{font-size:1.75rem;margin-bottom:32px}}.container{padding:32px}@media (max-width:768px){.container{padding:16px}}.wrapper{margin:auto;max-width:1600px}.wrapper--medium{max-width:1280px}.wrapper--small{margin:auto;max-width:960px}.wrapper--narrow{max-width:640px}.main{width:calc(98% - 400px)}.main,.sidebar{margin-bottom:32px}.sidebar{width:calc(400px - 2%)}@media (max-width:1024px){.main,.sidebar{margin-top:16px;width:auto}}.visually-hidden{clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;position:absolute!important;width:1px}.grid{-ms-flex-pack:center;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-content:center;margin-left:-2%;width:102%}.grid>*{margin-left:2%;max-width:100%}.grid--4cols>*{-ms-flex-preferred-size:23%;flex-basis:23%}.grid--3cols>*{-ms-flex-preferred-size:31.33%;flex-basis:31.33%}.grid--2cols>*{-ms-flex-preferred-size:48%;flex-basis:48%}@media (max-width:768px){.grid{-ms-flex-direction:column;flex-direction:column}.grid,.grid>*{margin-left:0;width:100%}.grid>*{-ms-flex:0 0 auto;flex:0 0 auto}}.center{text-align:center}.center h1,.center h2,.center h3,.center h4,.center h5,.center h6,.hamburger{display:inline-block}.hamburger{background-color:transparent;border:0;color:inherit;cursor:pointer;font:inherit;height:48px;margin:0;outline:none;overflow:visible;padding:14px 12px;text-transform:none}.hamburger__box{display:inline-block;height:16px;position:relative;width:24px}.hamburger__inner{display:block;margin-top:-2px;top:50%}.hamburger__inner,.hamburger__inner:after,.hamburger__inner:before{background-color:#584b4f;background-color:var(--color-base);border-radius:2px;height:3px;position:absolute;-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transition-timing-function:ease;-o-transition-timing-function:ease;transition-timing-function:ease;width:24px}.hamburger__inner:after,.hamburger__inner:before{content:"";display:block}.hamburger__inner:before{top:-6px}.hamburger__inner:after{bottom:-6px}.header{background:#fefefe;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.08);box-shadow:0 1px 0 0 rgba(0,0,0,.08);-webkit-box-shadow:var(--box-shadow-lightest);box-shadow:var(--box-shadow-lightest);padding:0 32px;width:100%}@media (max-width:768px){.header{padding:0 16px}}.header__container{-ms-flex-align:center;-ms-flex-pack:justify;align-items:center;display:-ms-flexbox;display:flex;justify-content:space-between;position:relative;width:100%}.header__logo{display:block;line-height:1;padding:16px 0}.header__logo svg{display:block;height:18px;width:120px}.header__search{margin:0;position:absolute;right:48px;top:7px;z-index:799}.header__search input{width:400px}@media (max-width:768px){.header__search input{width:calc(100vw - 94px)}}.header__menu{position:absolute;right:-12px;top:0;z-index:800}.footer{background:#584b4f;background:var(--color-base);padding:32px;text-align:center;text-shadow:1px 1px 0 rgba(0,0,0,.125)}.footer .links a{color:#eae8e3;color:var(--color-background-light);text-decoration:none}.footer .links a:hover{color:#9ad8bb;color:var(--color-green-light);text-decoration:none}.iframe{height:0;overflow:hidden;padding-bottom:56.25%;position:relative;width:100%}.iframe iframe{height:100%;left:0;position:absolute;top:0;width:100%}.links{margin:0;padding:0}.links li{display:inline-block;margin:0 8px;text-decoration:none}.links li:first-child{margin-left:0}.links li:last-child{margin-right:0}.links a{display:block}.box,.links a,.links a:hover{text-decoration:none}.box{background:#f4f3f1;background:var(--color-background-lighter);border-radius:4px;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.1);box-shadow:0 1px 0 0 rgba(0,0,0,.1);-webkit-box-shadow:var(--box-shadow-lighter);box-shadow:var(--box-shadow-lighter);color:inherit;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-bottom:24px;margin-top:0;overflow:auto;padding:24px;text-align:left;vertical-align:top}.box:hover{background:#eae8e3;background:var(--color-background-light);-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.15);box-shadow:0 1px 0 0 rgba(0,0,0,.15);-webkit-box-shadow:var(--box-shadow-light);box-shadow:var(--box-shadow-light);text-decoration:none}.box h1,.box h2,.box h3,.box h4,.box h5,.box h6,.box hr,.box ol,.box p,.box ul{margin-bottom:8px}.box h1,.box h2,.box h3,.box h4,.box h5,.box h6{color:#584b4f;color:var(--color-base)}.box :first-child{margin-top:0}.box :last-child{margin-bottom:0}.box__content{-ms-flex-positive:1;color:#584b4f;color:var(--color-base);flex-grow:1;text-decoration:none}.box__content p{font-size:.875rem}.box__content:hover{color:#584b4f;color:var(--color-base);text-decoration:none}.box__content:not(:last-child){margin-bottom:16px}.box__link{display:block;font-size:.75rem;text-decoration:none}.box__link,.box__link [class*=icon]{color:#4f5b93;color:var(--color-key)}.box__link:hover{color:#a2aacd;color:var(--color-key-light);text-decoration:none}code,pre,tt{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace}code,tt{background-color:rgba(0,0,0,.05);border-radius:4px;font-size:.75rem;margin:0;padding:.3rem .45rem}code br,tt br{display:none}del code{text-decoration:inherit}pre{word-wrap:normal;font-size:.875rem;line-height:1.45;text-align:left}@media (max-width:768px){pre{font-size:.75rem}}pre>code{background:transparent;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.highlight{margin-bottom:16px}.highlight pre{margin-bottom:0;word-break:normal}.highlight pre,pre{background-color:#f9f9f8;background-color:var(--color-background-lightest);border-radius:4px;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.08);box-shadow:0 1px 0 0 rgba(0,0,0,.08);-webkit-box-shadow:var(--box-shadow-lightest);box-shadow:var(--box-shadow-lightest);color:#584b4f;color:var(--color-base);overflow:auto;padding:16px 16px 14px;text-shadow:none!important}pre code,pre tt{word-wrap:normal;background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:none;overflow:visible;padding:0}pre code:after,pre code:before,pre tt:after,pre tt:before{content:normal}.pl-c{color:#969896}.pl-c1,.pl-s .pl-v{color:#0086b3}.pl-e,.pl-en{color:#795da3}.pl-s .pl-s1,.pl-smi{color:#444}.pl-ent{color:#63a35c}.pl-k{color:#a71d5d}.pl-pds,.pl-s,.pl-s .pl-pse .pl-s1,.pl-sr,.pl-sr .pl-cce,.pl-sr .pl-sra,.pl-sr .pl-sre{color:#183691}.pl-smw,.pl-v{color:#ed6a43}.pl-bu{color:#b52a1d}.pl-c2,.pl-ii{background-color:#b52a1d;color:#f8f8f8}.pl-c2:before{content:"^M"}.pl-sr .pl-cce{color:#63a35c;font-weight:700}.pl-ml{color:#693a17}.pl-mh,.pl-mh .pl-en,.pl-ms{color:#1d3e81;font-weight:700}.pl-mq{color:teal}.pl-mi{color:#333;font-style:italic}.pl-mb{color:#333;font-weight:700}.pl-md{background-color:#ffecec;color:#bd2c00}.pl-mi1{background-color:#eaffea;color:#55a532}.pl-mc{background-color:#ffe3b4;color:#ef9700}.pl-mi2{background-color:grey;color:#d8d8d8}.pl-mdr{color:#795da3;font-weight:700}.pl-mo{color:#1d3e81}.pl-ba{color:#595e62}.pl-sg{color:silver}.pl-corl{color:#183691;text-decoration:underline}.anchor{display:block;float:left;padding-right:2px;position:absolute;text-decoration:none!important;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.anchor:focus{outline:none}.anchor>*{visibility:hidden}:hover>.anchor>*{visibility:visible}.anchor>:before{color:#a2aacd;color:var(--color-key-light);content:"#";font-weight:400!important}.anchor--disable .anchor>*,.anchor.anchor--disable>*{visibility:hidden!important}.searchbox{width:100%}.searchbox,.searchbox:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#eae8e3 url(../assets/search.17d09555.svg) no-repeat 10px;background:var(--color-background-light) url(../assets/search.17d09555.svg) no-repeat 10px center;background-size:16px 16px;border:0;border-radius:4px;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.15);box-shadow:0 1px 0 0 rgba(0,0,0,.15);-webkit-box-shadow:var(--box-shadow-light);box-shadow:var(--box-shadow-light);color:#584b4f;color:var(--color-base);font-size:.875rem;line-height:24px;outline:none;padding:6px 8px 6px 32px;-webkit-transition:width .35s cubic-bezier(.23,1,.32,1);-o-transition:width .35s cubic-bezier(.23,1,.32,1);transition:width .35s cubic-bezier(.23,1,.32,1)}.searchbox::-webkit-input-placeholder{color:#afa1a5;color:var(--color-base-light)}.searchbox:-moz-placeholder,.searchbox::-moz-placeholder{color:#afa1a5;color:var(--color-base-light)}.searchbox::-moz-placeholder{opacity:1}.searchbox:-ms-input-placeholder{color:#afa1a5;color:var(--color-base-light)}.searchbox:focus{background-color:#f4f3f1!important;background-color:var(--color-background-lighter)!important;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.1);box-shadow:0 1px 0 0 rgba(0,0,0,.1);-webkit-box-shadow:var(--box-shadow-lighter);box-shadow:var(--box-shadow-lighter)}.searchbox--collapsed:not(:focus){background-color:transparent;border:0;-webkit-box-shadow:none;box-shadow:none;cursor:pointer;margin-right:-12px;width:32px!important}.searchbox--collapsed:not(:focus)::-webkit-search-cancel-button,.searchbox--collapsed:not(:focus)::-webkit-search-decoration{display:none}.searchbox--collapsed:not(:focus)::-webkit-search-results-button,.searchbox--collapsed:not(:focus)::-webkit-search-results-decoration{display:none}.searchbox--collapsed:not(:focus)::-ms-clear{display:none}.searchbox--large,.searchbox--large:focus{padding:8px 12px 8px 40px}.alert{background-color:#f4f3f1;background-color:var(--color-background-lighter);border-left:4px solid #ba3525;border-left:4px solid var(--color-red);border-radius:4px;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.1);box-shadow:0 1px 0 0 rgba(0,0,0,.1);-webkit-box-shadow:var(--box-shadow-lighter);box-shadow:var(--box-shadow-lighter);font-size:.9em;padding:16px 16px 16px 24px;position:relative}.alert:before{background:#ba3525;background:var(--color-red);border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;content:"!";display:block;font-size:12px;font-weight:700;height:24px;left:-14px;line-height:22px;padding:0 4px;position:absolute;text-align:center;top:12px;width:24px}.alert a{color:#ba3525;color:var(--color-red)}.alert :last-child{margin-bottom:0}.toc{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;list-style:none;margin-left:-4px;padding:0}.toc li{margin:4px}.toc a{background-color:#584b4f;background-color:var(--color-base);border-radius:4px;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.1);box-shadow:0 1px 0 0 rgba(0,0,0,.1);-webkit-box-shadow:var(--box-shadow-lighter);box-shadow:var(--box-shadow-lighter);display:-ms-flexbox;display:flex;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-weight:bolder;letter-spacing:normal;padding:.25rem 1rem .15rem}.toc a,.toc a:hover{color:#fff;text-decoration:none}@media (max-width:768px){.toc{font-size:.85rem}}.welcome__intro{background-image:-o-radial-gradient(center,ellipse,#fff 0,#eae8e3 100%);background-image:radial-gradient(ellipse at center,#fff 0,#eae8e3 100%);background-image:-o-radial-gradient(center,ellipse,#fff 0,var(--color-background-light) 100%);background-image:radial-gradient(ellipse at center,#fff 0,var(--color-background-light) 100%);background-position:50% 0;background-size:auto 100%;border-bottom:1px dashed #eae8e3;border-bottom:1px dashed var(--color-background-light);padding:16px 0 136px}.welcome__intro h1{color:#4f5b93;color:var(--color-key);font-size:2rem;margin-bottom:16px}.welcome__logo{display:block;margin:0 auto;max-width:320px}.welcome__logo svg{display:block;height:240px}.welcome__content{display:block;max-width:calc(98% - 320px);padding-top:16px}.welcome__example{display:block;margin:-160px auto auto;max-width:850px}.welcome__example .highlight pre{background:#fff;-webkit-box-shadow:0 0 16px #d6d1c8;box-shadow:0 0 16px #d6d1c8;-webkit-box-shadow:0 0 16px var(--color-background);box-shadow:0 0 16px var(--color-background);padding:32px}.welcome__intro .links a{color:#584b4f;color:var(--color-base);text-decoration:none}.welcome__intro .links a:hover{color:#4f5b93;color:var(--color-key);text-decoration:none}.welcome__team img{border-radius:50%;display:inline-block;max-width:190px}.welcome__team h3{display:block;margin:.2em 0}.welcome__team div.grid>*{margin-bottom:1em}@media (max-width:768px){.welcome__content{max-width:100%;padding:32px 16px 16px}.welcome__logo svg{height:160px}.welcome__intro h1{color:#4f5b93;color:var(--color-key);font-size:1.75rem;margin-bottom:16px;text-align:center}.welcome__intro .links{text-align:center}}.off-canvas-menu{pointer-events:none;position:fixed;right:0;top:0}.off-canvas-menu__content{-webkit-transform:translate3d(105%,0,0);transform:translate3d(105%,0,0)}.component-info{background-color:#f4f3f1;background-color:var(--color-background-lighter);border-radius:4px;bottom:16px;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.1);box-shadow:0 1px 0 0 rgba(0,0,0,.1);-webkit-box-shadow:var(--box-shadow-lighter);box-shadow:var(--box-shadow-lighter);font-size:.875rem;padding:24px;position:sticky;top:16px}.component-info,.component-info a,.component-info a [class*=icon]{color:#584b4f;color:var(--color-base)}.component-info a:hover{color:#afa1a5;color:var(--color-base-light);text-decoration:none}.component-info pre{font-size:.75rem;line-height:1}.component-info__title{-ms-flex-align:center;align-items:center;color:#584b4f;color:var(--color-base);display:-ms-flexbox;display:flex;font-size:1.5rem;line-height:1rem;margin-bottom:1rem}.component-info__title a{text-decoration:none}.component-info__title>:not(:last-child){margin-right:8px}.component-info__subtitle{color:#afa1a5;color:var(--color-base-light);font-size:.875rem;font-weight:700;letter-spacing:.1em;line-height:.875rem;margin-bottom:.875rem;text-transform:uppercase}.component-info__info{-ms-flex-pack:start;display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row;justify-content:flex-start;list-style:none;padding:0}.component-info__info li{margin-right:16px}.component-info__info li:last-child{margin-right:0}.component-info__info a{font-size:.75rem;text-decoration:none;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.component-info__contributors{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;list-style:none;padding:0}.component-info__contributors li{margin:0;padding:0 4px 4px 0}.component-info__contributors img{border-radius:2px;display:block;height:auto;width:40px}.component-info__contributors img,.component-info__participation{-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.1);box-shadow:0 1px 0 0 rgba(0,0,0,.1);-webkit-box-shadow:var(--box-shadow-lighter);box-shadow:var(--box-shadow-lighter)}.component-info__participation{background-color:#f9f9f8;background-color:var(--color-background-lightest);border-radius:4px;padding:8px;text-align:center}.component-info__participation svg{display:block;height:auto!important;margin:auto;max-width:100%}:root{--color-key:#4f5b93;--color-key-light:#a2aacd;--color-base:#584b4f;--color-base-light:#afa1a5;--color-green:#40a977;--color-green-light:#9ad8bb;--color-red:#ba3525;--color-red-light:#e79187;--color-background:#d6d1c8;--color-background-light:#eae8e3;--color-background-lighter:#f4f3f1;--color-background-lightest:#f9f9f8;--box-shadow-light:0 1px 0 0 rgba(0,0,0,.15);--box-shadow-lighter:0 1px 0 0 rgba(0,0,0,.1);--box-shadow-lightest:0 1px 0 0 rgba(0,0,0,.08)}.version-selector{color:#fff;font-size:.875rem;position:relative}.version-selector :last-child{margin-bottom:0}.version-selector__button,.version-selector__version{-webkit-appearance:none;background-color:#584b4f;background-color:var(--color-base);border:0;border-radius:4px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-shadow:0 1px 0 0 rgba(0,0,0,.1);box-shadow:0 1px 0 0 rgba(0,0,0,.1);-webkit-box-shadow:var(--box-shadow-lighter);box-shadow:var(--box-shadow-lighter);color:#fff;cursor:pointer;display:-ms-flexbox;display:flex;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:.75rem;font-weight:bolder;letter-spacing:normal;margin:0;outline:none;overflow:visible;padding:.25rem .4rem .2rem;text-decoration:none;text-shadow:none;text-transform:none}.version-selector__button{position:relative}.version-selector__button [class=icon-chevron-down]{display:inline-block;margin-left:4px}.version-selector__button [class=icon-chevron-up]{display:none;margin-left:4px}.version-selector__version{background-color:hsla(0,0%,100%,.33);border:1px solid transparent;color:#fff!important;text-decoration:none}.version-selector__version:hover{background-color:hsla(0,0%,100%,.11);border:1px solid hsla(0,0%,100%,.22)}.version-selector__button--dev,.version-selector__version--dev,.version-selector__version--dev:hover{background-color:#ba3525;background-color:var(--color-red)}.version-selector__button--latest,.version-selector__version--latest,.version-selector__version--latest:hover{background-color:#40a977;background-color:var(--color-green)}.version-selector__panel{position:fixed;top:-20000em;visibility:hidden}</style>
        <script async src="../assets/main.93d54642.js"></script>
            </head>

    <body>
            <header class="header">
            <div class="wrapper">
                <div class="header__container">
                    <a class="header__logo" href="../">
                        <svg xmlns="http://www.w3.org/2000/svg" width="320" height="47.29" viewBox="0 428.964 320 47.29"><path fill="#584B4F" d="M30.86 452.385c1.637-2.287 2.455-5 2.455-8.134 0-4.313-1.367-7.87-4.088-10.68-2.723-2.812-6.39-4.216-11.004-4.216h-7.71c-3.79 0-6.49.798-8.1 2.388C.806 433.332 0 435.872 0 439.355v36.512h9.08v-17.245h6.53l9.08 17.245h10.52L24.82 457.12c2.395-.87 4.41-2.447 6.04-4.735zm-8.488-3.334c-1.24 1.33-2.82 1.99-4.734 1.99H9.08v-9.47c0-2.74 1.35-4.112 4.05-4.112h4.508c2 0 3.603.61 4.8 1.83 1.196 1.22 1.797 2.82 1.797 4.802 0 1.982-.623 3.64-1.864 4.964v-.003zm20.348 14.536c0 4.572 1.055 7.766 3.167 9.57 2.114 1.81 5.782 2.71 11.008 2.71h16.46v-8.1H57.548c-2.18 0-3.68-.35-4.51-1.045-.83-.695-1.24-1.96-1.24-3.788v-6.467h14.434l.656-8.1h-15.09v-10.912h21.56v-8.098H42.72v34.23zm57.97-33.442c-.718-.523-1.665-.787-2.84-.787-1.177 0-2.168.285-2.972.85-.807.567-1.537 1.592-2.19 3.073l-14.89 42.585h9.47l2.55-8.03h15.613l2.613 8.03h9.47l-14.893-42.588c-.567-1.572-1.21-2.613-1.93-3.135v.002zM92.1 460.19l5.75-18.42 5.487 18.418H92.1v.002zm53.074 5.455c-1.155 1.678-3.245 2.512-6.27 2.512-3.03 0-5.258-.914-6.697-2.74-1.394-1.83-2.093-5.25-2.093-10.256v-4.052c0-1.783.045-3.2.13-4.243.178-3.27.785-5.576 1.833-6.928 1.48-1.914 3.745-2.873 6.794-2.873 2.613 0 4.532.653 5.75 1.96 1.218 1.308 2.07 3.245 2.547 5.813h8.49c0-5.14-1.557-9.07-4.67-11.79-3.114-2.723-7.153-4.084-12.116-4.084-3.398 0-6.293.564-8.687 1.7-6.097 2.783-9.146 9.686-9.146 20.704v3.918c0 13.982 5.945 20.968 17.833 20.968 5.4 0 9.58-1.59 12.54-4.77 2.964-3.176 4.44-7.73 4.44-13.653h-8.426c-.346 3.53-1.1 6.134-2.25 7.81v.005zm14.667-36.29v8.1h12.412v38.41h9.08v-38.41h12.47v-8.1"/><path fill="#4F5B93" d="M218.89 429.356h-18.03v46.51h9.086v-14.897h8.944c4.876 0 8.647-1.337 11.328-4.016 2.683-2.68 4.02-6.608 4.02-11.788s-1.337-9.112-4.02-11.788c-2.68-2.68-6.454-4.02-11.328-4.02v-.002zm4.538 21.686c-1.15 1.177-2.815 1.768-5 1.768h-8.485v-15.354h8.484c4.483 0 6.73 2.572 6.73 7.71 0 2.744-.578 4.703-1.73 5.88v-.004zm43.93-2.02H250.31v-19.666h-9.088v46.51h9.086v-18.81h17.05v18.81h9.076v-46.51h-9.078m48.63 4.02c-2.683-2.68-6.46-4.02-11.335-4.02h-18.027v46.507h9.085V460.97h8.943c4.877 0 8.654-1.336 11.337-4.014 2.68-2.678 4.013-6.608 4.013-11.788s-1.332-9.112-4.013-11.79v-.003zm-6.795 17.666c-1.154 1.177-2.822 1.768-5 1.768h-8.484v-15.354h8.485c4.483 0 6.734 2.572 6.734 7.71 0 2.744-.583 4.703-1.735 5.88v-.004z"/></svg>
                    </a>
                    <form class="header__search">
                        <input type="search" class="searchbox searchbox--collapsed" data-docsearch placeholder="Search documentation...">
                    </form>
                    <div class="header__menu">
    <button class="hamburger" data-ctrly="off-canvas-menu" data-off-canvas-menu-control>
        <div class="hamburger__box">
            <div class="hamburger__inner">
                <span class="visually-hidden">Menu</span>
            </div>
        </div>
    </button>
</div>
<nav id="off-canvas-menu" class="off-canvas-menu" aria-hidden="true" tabindex="0">
    <div class="off-canvas-menu__content">
        <button aria-label="Close menu" class="off-canvas-menu__close" data-ctrly="off-canvas-menu" data-off-canvas-menu-control>
            <i class="icon-x" aria-hidden="true"></i>
        </button>

        <section class="off-canvas-menu__section">
            <a class="off-canvas-menu__section-top" href="../">Home</a>
        </section>

        <section class="off-canvas-menu__section">
            <a class="off-canvas-menu__section-top" href="../changelog.html">Changelog</a>
        </section>
            <section class="off-canvas-menu__section">
            <h3 class="off-canvas-menu__section-header">Core Components</h3>
            <ul class="off-canvas-menu__list">
                            <li>
                    <a class="off-canvas-menu__link" href="../event-loop/">
                        EventLoop

                        <span class="off-canvas-menu__version">
                            v1.3.0
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../stream/">
                        Stream

                        <span class="off-canvas-menu__version">
                            v1.2.0
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../promise/">
                        Promise

                        <span class="off-canvas-menu__version">
                            v2.9.0
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../async/">
                        Async

                        <span class="off-canvas-menu__version">
                            v4.0.0
                        </span>
                    </a>
                </li>
                        </ul>
        </section>
            <section class="off-canvas-menu__section">
            <h3 class="off-canvas-menu__section-header">Network Components</h3>
            <ul class="off-canvas-menu__list">
                            <li>
                    <a class="off-canvas-menu__link" href="../socket/">
                        Socket

                        <span class="off-canvas-menu__version">
                            v1.12.0
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../datagram/">
                        Datagram

                        <span class="off-canvas-menu__version">
                            v1.8.0
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../http/">
                        HTTP

                        <span class="off-canvas-menu__version">
                            v1.7.0
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../dns/">
                        DNS

                        <span class="off-canvas-menu__version">
                            v1.10.0
                        </span>
                    </a>
                </li>
                        </ul>
        </section>
            <section class="off-canvas-menu__section">
            <h3 class="off-canvas-menu__section-header">Utility Components</h3>
            <ul class="off-canvas-menu__list">
                            <li>
                    <a class="off-canvas-menu__link" href="../cache/">
                        Cache

                        <span class="off-canvas-menu__version">
                            v1.1.1
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../child-process/">
                        ChildProcess

                        <span class="off-canvas-menu__version">
                            v0.6.5
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../promise-timer/">
                        PromiseTimer

                        <span class="off-canvas-menu__version">
                            v1.9.0
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../promise-stream/">
                        PromiseStream

                        <span class="off-canvas-menu__version">
                            v1.5.0
                        </span>
                    </a>
                </li>
                        </ul>
        </section>
            <section class="off-canvas-menu__section">
            <h3 class="off-canvas-menu__section-header">Legacy Components</h3>
            <ul class="off-canvas-menu__list">
                            <li>
                    <a class="off-canvas-menu__link" href="../http-client/">
                        HttpClient

                        <span class="off-canvas-menu__version">
                            v0.5.11
                        </span>
                    </a>
                </li>
                            <li>
                    <a class="off-canvas-menu__link" href="../socket-client/">
                        SocketClient

                        <span class="off-canvas-menu__version">
                            v0.7.0
                        </span>
                    </a>
                </li>
                        </ul>
        </section>
        </div>
</nav>
                </div>
            </div>
        </header>
    
        <div class="container">
        <div class="wrapper">
            <div class="grid grid--wrap grid--gutter">
                <main class="main">
                                    <h1>EventLoop</h1>

                    
<p><a href="https://github.com/reactphp/event-loop/actions"><img src="https://github.com/reactphp/event-loop/workflows/CI/badge.svg" alt="CI status" style="max-width: 100%;"></a>
<a href="https://packagist.org/packages/react/event-loop" rel="nofollow"><img src="https://camo.githubusercontent.com/0ee6ea434aa5d8fe4e2400c162136007253ac2ce337b49bced498b4645b0a781/68747470733a2f2f696d672e736869656c64732e696f2f7061636b61676973742f64742f72656163742f6576656e742d6c6f6f703f636f6c6f723d626c7565266c6162656c3d696e7374616c6c732532306f6e2532305061636b6167697374" alt="installs on Packagist" data-canonical-src="https://img.shields.io/packagist/dt/react/event-loop?color=blue&amp;label=installs%20on%20Packagist" style="max-width: 100%;"></a></p>
<p><a href="https://reactphp.org/" rel="nofollow">ReactPHP</a>'s core reactor event loop that libraries can use for evented I/O.</p>
<p>In order for async based libraries to be interoperable, they need to use the
same event loop. This component provides a common <code>LoopInterface</code> that any
library can target. This allows them to be used in the same loop, with one
single <a href="#run"><code>run()</code></a> call that is controlled by the user.</p>
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#quickstart-example">Quickstart example</a></li>
<li>
<a href="#usage">Usage</a>
<ul>
<li>
<a href="#loop">Loop</a>
<ul>
<li><a href="#loop-methods">Loop methods</a></li>
<li><a href="#loop-autorun">Loop autorun</a></li>
<li><a href="#get">get()</a></li>
</ul>
</li>
<li>
<a href="#factory"><del>Factory</del></a>
<ul>
<li><a href="#create"><del>create()</del></a></li>
</ul>
</li>
<li>
<a href="#loop-implementations">Loop implementations</a>
<ul>
<li><a href="#streamselectloop">StreamSelectLoop</a></li>
<li><a href="#exteventloop">ExtEventLoop</a></li>
<li><a href="#extevloop">ExtEvLoop</a></li>
<li><a href="#extuvloop">ExtUvLoop</a></li>
<li><a href="#extlibeventloop"><del>ExtLibeventLoop</del></a></li>
<li><a href="#extlibevloop"><del>ExtLibevLoop</del></a></li>
</ul>
</li>
<li>
<a href="#loopinterface">LoopInterface</a>
<ul>
<li><a href="#run">run()</a></li>
<li><a href="#stop">stop()</a></li>
<li><a href="#addtimer">addTimer()</a></li>
<li><a href="#addperiodictimer">addPeriodicTimer()</a></li>
<li><a href="#canceltimer">cancelTimer()</a></li>
<li><a href="#futuretick">futureTick()</a></li>
<li><a href="#addsignal">addSignal()</a></li>
<li><a href="#removesignal">removeSignal()</a></li>
<li><a href="#addreadstream">addReadStream()</a></li>
<li><a href="#addwritestream">addWriteStream()</a></li>
<li><a href="#removereadstream">removeReadStream()</a></li>
<li><a href="#removewritestream">removeWriteStream()</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#install">Install</a></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#license">License</a></li>
<li><a href="#more">More</a></li>
</ul>
<h2><a id="quickstart-example" class="anchor" aria-hidden="true" href="#quickstart-example"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quickstart example</h2>
<p>Here is an async HTTP server built with just the event loop.</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-ent">&lt;?php</span>

<span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>;

<span class="pl-k">require</span> __DIR__ . <span class="pl-s">'/vendor/autoload.php'</span>;

<span class="pl-s1"><span class="pl-c1">$</span>server</span> = stream_socket_server(<span class="pl-s">'tcp://127.0.0.1:8080'</span>);
stream_set_blocking(<span class="pl-s1"><span class="pl-c1">$</span>server</span>, <span class="pl-c1">false</span>);

<span class="pl-v">Loop</span>::<span class="pl-en">addReadStream</span>(<span class="pl-s1"><span class="pl-c1">$</span>server</span>, <span class="pl-k">function</span> (<span class="pl-s1"><span class="pl-c1">$</span>server</span>) {
    <span class="pl-s1"><span class="pl-c1">$</span>conn</span> = stream_socket_accept(<span class="pl-s1"><span class="pl-c1">$</span>server</span>);
    <span class="pl-s1"><span class="pl-c1">$</span>data</span> = "<span class="pl-s">HTTP/1.1 200 OK</span>\r\n<span class="pl-s">Content-Length: 3</span>\r\n\r\n<span class="pl-s">Hi</span>\n";
    <span class="pl-v">Loop</span>::<span class="pl-en">addWriteStream</span>(<span class="pl-s1"><span class="pl-c1">$</span>conn</span>, <span class="pl-k">function</span> (<span class="pl-s1"><span class="pl-c1">$</span>conn</span>) <span class="pl-k">use</span> (&amp;<span class="pl-s1"><span class="pl-c1">$</span>data</span>) {
        <span class="pl-s1"><span class="pl-c1">$</span>written</span> = fwrite(<span class="pl-s1"><span class="pl-c1">$</span>conn</span>, <span class="pl-s1"><span class="pl-c1">$</span>data</span>);
        <span class="pl-k">if</span> (<span class="pl-s1"><span class="pl-c1">$</span>written</span> === strlen(<span class="pl-s1"><span class="pl-c1">$</span>data</span>)) {
            fclose(<span class="pl-s1"><span class="pl-c1">$</span>conn</span>);
            <span class="pl-v">Loop</span>::<span class="pl-en">removeWriteStream</span>(<span class="pl-s1"><span class="pl-c1">$</span>conn</span>);
        } <span class="pl-k">else</span> {
            <span class="pl-s1"><span class="pl-c1">$</span>data</span> = substr(<span class="pl-s1"><span class="pl-c1">$</span>data</span>, <span class="pl-s1"><span class="pl-c1">$</span>written</span>);
        }
    });
});

<span class="pl-v">Loop</span>::<span class="pl-en">addPeriodicTimer</span>(<span class="pl-c1">5</span>, <span class="pl-k">function</span> () {
    <span class="pl-s1"><span class="pl-c1">$</span>memory</span> = memory_get_usage() / <span class="pl-c1">1024</span>;
    <span class="pl-s1"><span class="pl-c1">$</span>formatted</span> = number_format(<span class="pl-s1"><span class="pl-c1">$</span>memory</span>, <span class="pl-c1">3</span>).<span class="pl-s">'K'</span>;
    <span class="pl-k">echo</span> "<span class="pl-s">Current memory usage: </span>{<span class="pl-s1"><span class="pl-c1">$</span>formatted</span>}\n";
});</pre></div>
<p>See also the <a href="https://github.com/reactphp/event-loop/blob/v1.3.0/examples">examples</a>.</p>
<h2><a id="usage" class="anchor" aria-hidden="true" href="#usage"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>
<p>Typical applications would use the <a href="#loop"><code>Loop</code> class</a> to use the default
event loop like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>;

<span class="pl-s1"><span class="pl-c1">$</span>timer</span> = <span class="pl-v">Loop</span>::<span class="pl-en">addPeriodicTimer</span>(<span class="pl-c1">0.1</span>, <span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'Tick'</span> . <span class="pl-c1">PHP_EOL</span>;
});

<span class="pl-v">Loop</span>::<span class="pl-en">addTimer</span>(<span class="pl-c1">1.0</span>, <span class="pl-k">function</span> () <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>timer</span>) {
    <span class="pl-v">Loop</span>::<span class="pl-en">cancelTimer</span>(<span class="pl-s1"><span class="pl-c1">$</span>timer</span>);
    <span class="pl-k">echo</span> <span class="pl-s">'Done'</span> . <span class="pl-c1">PHP_EOL</span>;
});</pre></div>
<p>As an alternative, you can also explicitly create an event loop instance at the
beginning, reuse it throughout your program and finally run it at the end of the
program like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>loop</span> = <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>::<span class="pl-en">get</span>(); <span class="pl-c">// or deprecated React\EventLoop\Factory::create();</span>

<span class="pl-s1"><span class="pl-c1">$</span>timer</span> = <span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addPeriodicTimer</span>(<span class="pl-c1">0.1</span>, <span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'Tick'</span> . <span class="pl-c1">PHP_EOL</span>;
});

<span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addTimer</span>(<span class="pl-c1">1.0</span>, <span class="pl-k">function</span> () <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>loop</span>, <span class="pl-s1"><span class="pl-c1">$</span>timer</span>) {
    <span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">cancelTimer</span>(<span class="pl-s1"><span class="pl-c1">$</span>timer</span>);
    <span class="pl-k">echo</span> <span class="pl-s">'Done'</span> . <span class="pl-c1">PHP_EOL</span>;
});

<span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">run</span>();</pre></div>
<p>While the former is more concise, the latter is more explicit.
In both cases, the program would perform the exact same steps.</p>
<ol>
<li>The event loop instance is created at the beginning of the program. This is
implicitly done the first time you call the <a href="#loop"><code>Loop</code> class</a> or
explicitly when using the deprecated <a href="#create"><code>Factory::create()</code> method</a>
(or manually instantiating any of the <a href="#loop-implementations">loop implementations</a>).</li>
<li>The event loop is used directly or passed as an instance to library and
application code. In this example, a periodic timer is registered with the
event loop which simply outputs <code>Tick</code> every fraction of a second until another
timer stops the periodic timer after a second.</li>
<li>The event loop is run at the end of the program. This is automatically done
when using the <a href="#loop"><code>Loop</code> class</a> or explicitly with a single <a href="#run"><code>run()</code></a>
call at the end of the program.</li>
</ol>
<p>As of <code>v1.2.0</code>, we highly recommend using the <a href="#loop"><code>Loop</code> class</a>.
The explicit loop instructions are still valid and may still be useful in some
applications, especially for a transition period towards the more concise style.</p>
<h3><a id="loop" class="anchor" aria-hidden="true" href="#loop"><span aria-hidden="true" class="octicon octicon-link"></span></a>Loop</h3>
<p>The <code>Loop</code> class exists as a convenient global accessor for the event loop.</p>
<h4><a id="loop-methods" class="anchor" aria-hidden="true" href="#loop-methods"><span aria-hidden="true" class="octicon octicon-link"></span></a>Loop methods</h4>
<p>The <code>Loop</code> class provides all methods that exist on the <a href="#loopinterface"><code>LoopInterface</code></a>
as static methods:</p>
<ul>
<li><a href="#run">run()</a></li>
<li><a href="#stop">stop()</a></li>
<li><a href="#addtimer">addTimer()</a></li>
<li><a href="#addperiodictimer">addPeriodicTimer()</a></li>
<li><a href="#canceltimer">cancelTimer()</a></li>
<li><a href="#futuretick">futureTick()</a></li>
<li><a href="#addsignal">addSignal()</a></li>
<li><a href="#removesignal">removeSignal()</a></li>
<li><a href="#addreadstream">addReadStream()</a></li>
<li><a href="#addwritestream">addWriteStream()</a></li>
<li><a href="#removereadstream">removeReadStream()</a></li>
<li><a href="#removewritestream">removeWriteStream()</a></li>
</ul>
<p>If you're working with the event loop in your application code, it's often
easiest to directly interface with the static methods defined on the <code>Loop</code> class
like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>;

<span class="pl-s1"><span class="pl-c1">$</span>timer</span> = <span class="pl-v">Loop</span>::<span class="pl-en">addPeriodicTimer</span>(<span class="pl-c1">0.1</span>, <span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'Tick'</span> . <span class="pl-c1">PHP_EOL</span>;
});

<span class="pl-v">Loop</span>::<span class="pl-en">addTimer</span>(<span class="pl-c1">1.0</span>, <span class="pl-k">function</span> () <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>timer</span>) {
    <span class="pl-v">Loop</span>::<span class="pl-en">cancelTimer</span>(<span class="pl-s1"><span class="pl-c1">$</span>timer</span>);
    <span class="pl-k">echo</span> <span class="pl-s">'Done'</span> . <span class="pl-c1">PHP_EOL</span>;
});</pre></div>
<p>On the other hand, if you're familiar with object-oriented programming (OOP) and
dependency injection (DI), you may want to inject an event loop instance and
invoke instance methods on the <code>LoopInterface</code> like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>;
<span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">LoopInterface</span>;

<span class="pl-k">class</span> <span class="pl-v">Greeter</span>
{
    <span class="pl-k">private</span> <span class="pl-c1"><span class="pl-c1">$</span>loop</span>;

    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">__construct</span>(<span class="pl-smi"><span class="pl-smi">LoopInterface</span></span> <span class="pl-s1"><span class="pl-c1">$</span>loop</span>)
    {
        <span class="pl-s1"><span class="pl-c1">$</span><span class="pl-smi">this</span></span>-&gt;<span class="pl-c1">loop</span> = <span class="pl-s1"><span class="pl-c1">$</span>loop</span>;
    }

    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">greet</span>(<span class="pl-smi">string</span> <span class="pl-s1"><span class="pl-c1">$</span>name</span>)
    {
        <span class="pl-s1"><span class="pl-c1">$</span><span class="pl-smi">this</span></span>-&gt;<span class="pl-c1">loop</span>-&gt;<span class="pl-en">addTimer</span>(<span class="pl-c1">1.0</span>, <span class="pl-k">function</span> () <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>name</span>) {
            <span class="pl-k">echo</span> <span class="pl-s">'Hello '</span> . <span class="pl-s1"><span class="pl-c1">$</span>name</span> . <span class="pl-s">'!'</span> . <span class="pl-c1">PHP_EOL</span>;
        });
    }
}

<span class="pl-s1"><span class="pl-c1">$</span>greeter</span> = <span class="pl-k">new</span> <span class="pl-v">Greeter</span>(<span class="pl-v">Loop</span>::<span class="pl-en">get</span>());
<span class="pl-s1"><span class="pl-c1">$</span>greeter</span>-&gt;<span class="pl-en">greet</span>(<span class="pl-s">'Alice'</span>);
<span class="pl-s1"><span class="pl-c1">$</span>greeter</span>-&gt;<span class="pl-en">greet</span>(<span class="pl-s">'Bob'</span>);</pre></div>
<p>Each static method call will be forwarded as-is to the underlying event loop
instance by using the <a href="#get"><code>Loop::get()</code></a> call internally.
See <a href="#loopinterface"><code>LoopInterface</code></a> for more details about available methods.</p>
<h4><a id="loop-autorun" class="anchor" aria-hidden="true" href="#loop-autorun"><span aria-hidden="true" class="octicon octicon-link"></span></a>Loop autorun</h4>
<p>When using the <code>Loop</code> class, it will automatically execute the loop at the end of
the program. This means the following example will schedule a timer and will
automatically execute the program until the timer event fires:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>;

<span class="pl-v">Loop</span>::<span class="pl-en">addTimer</span>(<span class="pl-c1">1.0</span>, <span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'Hello'</span> . <span class="pl-c1">PHP_EOL</span>;
});</pre></div>
<p>As of <code>v1.2.0</code>, we highly recommend using the <code>Loop</code> class this way and omitting any
explicit <a href="#run"><code>run()</code></a> calls. For BC reasons, the explicit <a href="#run"><code>run()</code></a>
method is still valid and may still be useful in some applications, especially
for a transition period towards the more concise style.</p>
<p>If you don't want the <code>Loop</code> to run automatically, you can either explicitly
<a href="#run"><code>run()</code></a> or <a href="#stop"><code>stop()</code></a> it. This can be useful if you're using
a global exception handler like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>;

<span class="pl-v">Loop</span>::<span class="pl-en">addTimer</span>(<span class="pl-c1">10.0</span>, <span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'Never happens'</span>;
});

set_exception_handler(<span class="pl-k">function</span> (<span class="pl-smi"><span class="pl-smi">Throwable</span></span> <span class="pl-s1"><span class="pl-c1">$</span>e</span>) {
    <span class="pl-k">echo</span> <span class="pl-s">'Error: '</span> . <span class="pl-s1"><span class="pl-c1">$</span>e</span>-&gt;<span class="pl-en">getMessage</span>() . <span class="pl-c1">PHP_EOL</span>;
    <span class="pl-v">Loop</span>::<span class="pl-en">stop</span>();
});

<span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-v">RuntimeException</span>(<span class="pl-s">'Demo'</span>);</pre></div>
<h4><a id="get" class="anchor" aria-hidden="true" href="#get"><span aria-hidden="true" class="octicon octicon-link"></span></a>get()</h4>
<p>The <code>get(): LoopInterface</code> method can be used to
get the currently active event loop instance.</p>
<p>This method will always return the same event loop instance throughout the
lifetime of your application.</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>;
<span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">LoopInterface</span>;

<span class="pl-s1"><span class="pl-c1">$</span>loop</span> = <span class="pl-v">Loop</span>::<span class="pl-en">get</span>();

assert(<span class="pl-s1"><span class="pl-c1">$</span>loop</span> instanceof <span class="pl-v">LoopInterface</span>);
assert(<span class="pl-s1"><span class="pl-c1">$</span>loop</span> === <span class="pl-v">Loop</span>::<span class="pl-en">get</span>());</pre></div>
<p>This is particularly useful if you're using object-oriented programming (OOP)
and dependency injection (DI). In this case, you may want to inject an event
loop instance and invoke instance methods on the <code>LoopInterface</code> like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>;
<span class="pl-k">use</span> <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">LoopInterface</span>;

<span class="pl-k">class</span> <span class="pl-v">Greeter</span>
{
    <span class="pl-k">private</span> <span class="pl-c1"><span class="pl-c1">$</span>loop</span>;

    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">__construct</span>(<span class="pl-smi"><span class="pl-smi">LoopInterface</span></span> <span class="pl-s1"><span class="pl-c1">$</span>loop</span>)
    {
        <span class="pl-s1"><span class="pl-c1">$</span><span class="pl-smi">this</span></span>-&gt;<span class="pl-c1">loop</span> = <span class="pl-s1"><span class="pl-c1">$</span>loop</span>;
    }

    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">greet</span>(<span class="pl-smi">string</span> <span class="pl-s1"><span class="pl-c1">$</span>name</span>)
    {
        <span class="pl-s1"><span class="pl-c1">$</span><span class="pl-smi">this</span></span>-&gt;<span class="pl-c1">loop</span>-&gt;<span class="pl-en">addTimer</span>(<span class="pl-c1">1.0</span>, <span class="pl-k">function</span> () <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>name</span>) {
            <span class="pl-k">echo</span> <span class="pl-s">'Hello '</span> . <span class="pl-s1"><span class="pl-c1">$</span>name</span> . <span class="pl-s">'!'</span> . <span class="pl-c1">PHP_EOL</span>;
        });
    }
}

<span class="pl-s1"><span class="pl-c1">$</span>greeter</span> = <span class="pl-k">new</span> <span class="pl-v">Greeter</span>(<span class="pl-v">Loop</span>::<span class="pl-en">get</span>());
<span class="pl-s1"><span class="pl-c1">$</span>greeter</span>-&gt;<span class="pl-en">greet</span>(<span class="pl-s">'Alice'</span>);
<span class="pl-s1"><span class="pl-c1">$</span>greeter</span>-&gt;<span class="pl-en">greet</span>(<span class="pl-s">'Bob'</span>);</pre></div>
<p>See <a href="#loopinterface"><code>LoopInterface</code></a> for more details about available methods.</p>
<h3><a id="factory" class="anchor" aria-hidden="true" href="#factory"><span aria-hidden="true" class="octicon octicon-link"></span></a><del>Factory</del></h3>
<blockquote>
<p>Deprecated since v1.2.0, see <a href="#loop"><code>Loop</code> class</a> instead.</p>
</blockquote>
<p>The deprecated <code>Factory</code> class exists as a convenient way to pick the best available
<a href="#loop-implementations">event loop implementation</a>.</p>
<h4><a id="create" class="anchor" aria-hidden="true" href="#create"><span aria-hidden="true" class="octicon octicon-link"></span></a><del>create()</del></h4>
<blockquote>
<p>Deprecated since v1.2.0, see <a href="#get"><code>Loop::get()</code></a> instead.</p>
</blockquote>
<p>The deprecated <code>create(): LoopInterface</code> method can be used to
create a new event loop instance:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-c">// deprecated</span>
<span class="pl-s1"><span class="pl-c1">$</span>loop</span> = <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Factory</span>::<span class="pl-en">create</span>();

<span class="pl-c">// new</span>
<span class="pl-s1"><span class="pl-c1">$</span>loop</span> = <span class="pl-v">React</span>\<span class="pl-v">EventLoop</span>\<span class="pl-v">Loop</span>::<span class="pl-en">get</span>();</pre></div>
<p>This method always returns an instance implementing <a href="#loopinterface"><code>LoopInterface</code></a>,
the actual <a href="#loop-implementations">event loop implementation</a> is an implementation detail.</p>
<p>This method should usually only be called once at the beginning of the program.</p>
<h3><a id="loop-implementations" class="anchor" aria-hidden="true" href="#loop-implementations"><span aria-hidden="true" class="octicon octicon-link"></span></a>Loop implementations</h3>
<p>In addition to the <a href="#loopinterface"><code>LoopInterface</code></a>, there are a number of
event loop implementations provided.</p>
<p>All of the event loops support these features:</p>
<ul>
<li>File descriptor polling</li>
<li>One-off timers</li>
<li>Periodic timers</li>
<li>Deferred execution on future loop tick</li>
</ul>
<p>For most consumers of this package, the underlying event loop implementation is
an implementation detail.
You should use the <a href="#loop"><code>Loop</code> class</a> to automatically create a new instance.</p>
<p>Advanced! If you explicitly need a certain event loop implementation, you can
manually instantiate one of the following classes.
Note that you may have to install the required PHP extensions for the respective
event loop implementation first or they will throw a <code>BadMethodCallException</code> on creation.</p>
<h4><a id="streamselectloop" class="anchor" aria-hidden="true" href="#streamselectloop"><span aria-hidden="true" class="octicon octicon-link"></span></a>StreamSelectLoop</h4>
<p>A <code>stream_select()</code> based event loop.</p>
<p>This uses the <a href="https://www.php.net/manual/en/function.stream-select.php" rel="nofollow"><code>stream_select()</code></a>
function and is the only implementation that works out of the box with PHP.</p>
<p>This event loop works out of the box on PHP 5.3 through PHP 8+ and HHVM.
This means that no installation is required and this library works on all
platforms and supported PHP versions.
Accordingly, the <a href="#loop"><code>Loop</code> class</a> and the deprecated <a href="#factory"><code>Factory</code></a>
will use this event loop by default if you do not install any of the event loop
extensions listed below.</p>
<p>Under the hood, it does a simple <code>select</code> system call.
This system call is limited to the maximum file descriptor number of
<code>FD_SETSIZE</code> (platform dependent, commonly 1024) and scales with <code>O(m)</code>
(<code>m</code> being the maximum file descriptor number passed).
This means that you may run into issues when handling thousands of streams
concurrently and you may want to look into using one of the alternative
event loop implementations listed below in this case.
If your use case is among the many common use cases that involve handling only
dozens or a few hundred streams at once, then this event loop implementation
performs really well.</p>
<p>If you want to use signal handling (see also <a href="#addsignal"><code>addSignal()</code></a> below),
this event loop implementation requires <code>ext-pcntl</code>.
This extension is only available for Unix-like platforms and does not support
Windows.
It is commonly installed as part of many PHP distributions.
If this extension is missing (or you're running on Windows), signal handling is
not supported and throws a <code>BadMethodCallException</code> instead.</p>
<p>This event loop is known to rely on wall-clock time to schedule future timers
when using any version before PHP 7.3, because a monotonic time source is
only available as of PHP 7.3 (<code>hrtime()</code>).
While this does not affect many common use cases, this is an important
distinction for programs that rely on a high time precision or on systems
that are subject to discontinuous time adjustments (time jumps).
This means that if you schedule a timer to trigger in 30s on PHP &lt; 7.3 and
then adjust your system time forward by 20s, the timer may trigger in 10s.
See also <a href="#addtimer"><code>addTimer()</code></a> for more details.</p>
<h4><a id="exteventloop" class="anchor" aria-hidden="true" href="#exteventloop"><span aria-hidden="true" class="octicon octicon-link"></span></a>ExtEventLoop</h4>
<p>An <code>ext-event</code> based event loop.</p>
<p>This uses the <a href="https://pecl.php.net/package/event" rel="nofollow"><code>event</code> PECL extension</a>,
that provides an interface to <code>libevent</code> library.
<code>libevent</code> itself supports a number of system-specific backends (epoll, kqueue).</p>
<p>This loop is known to work with PHP 5.4 through PHP 8+.</p>
<h4><a id="extevloop" class="anchor" aria-hidden="true" href="#extevloop"><span aria-hidden="true" class="octicon octicon-link"></span></a>ExtEvLoop</h4>
<p>An <code>ext-ev</code> based event loop.</p>
<p>This loop uses the <a href="https://pecl.php.net/package/ev" rel="nofollow"><code>ev</code> PECL extension</a>,
that provides an interface to <code>libev</code> library.
<code>libev</code> itself supports a number of system-specific backends (epoll, kqueue).</p>
<p>This loop is known to work with PHP 5.4 through PHP 8+.</p>
<h4><a id="extuvloop" class="anchor" aria-hidden="true" href="#extuvloop"><span aria-hidden="true" class="octicon octicon-link"></span></a>ExtUvLoop</h4>
<p>An <code>ext-uv</code> based event loop.</p>
<p>This loop uses the <a href="https://pecl.php.net/package/uv" rel="nofollow"><code>uv</code> PECL extension</a>,
that provides an interface to <code>libuv</code> library.
<code>libuv</code> itself supports a number of system-specific backends (epoll, kqueue).</p>
<p>This loop is known to work with PHP 7.x.</p>
<h4><a id="extlibeventloop" class="anchor" aria-hidden="true" href="#extlibeventloop"><span aria-hidden="true" class="octicon octicon-link"></span></a><del>ExtLibeventLoop</del></h4>
<blockquote>
<p>Deprecated since v1.2.0, use <a href="#exteventloop"><code>ExtEventLoop</code></a> instead.</p>
</blockquote>
<p>An <code>ext-libevent</code> based event loop.</p>
<p>This uses the <a href="https://pecl.php.net/package/libevent" rel="nofollow"><code>libevent</code> PECL extension</a>,
that provides an interface to <code>libevent</code> library.
<code>libevent</code> itself supports a number of system-specific backends (epoll, kqueue).</p>
<p>This event loop does only work with PHP 5.
An <a href="https://github.com/php/pecl-event-libevent/pull/2">unofficial update</a> for
PHP 7 does exist, but it is known to cause regular crashes due to <code>SEGFAULT</code>s.
To reiterate: Using this event loop on PHP 7 is not recommended.
Accordingly, neither the <a href="#loop"><code>Loop</code> class</a> nor the deprecated
<a href="#factory"><code>Factory</code> class</a> will try to use this event loop on PHP 7.</p>
<p>This event loop is known to trigger a readable listener only if
the stream <em>becomes</em> readable (edge-triggered) and may not trigger if the
stream has already been readable from the beginning.
This also implies that a stream may not be recognized as readable when data
is still left in PHP's internal stream buffers.
As such, it's recommended to use <code>stream_set_read_buffer($stream, 0);</code>
to disable PHP's internal read buffer in this case.
See also <a href="#addreadstream"><code>addReadStream()</code></a> for more details.</p>
<h4><a id="extlibevloop" class="anchor" aria-hidden="true" href="#extlibevloop"><span aria-hidden="true" class="octicon octicon-link"></span></a><del>ExtLibevLoop</del></h4>
<blockquote>
<p>Deprecated since v1.2.0, use <a href="#extevloop"><code>ExtEvLoop</code></a> instead.</p>
</blockquote>
<p>An <code>ext-libev</code> based event loop.</p>
<p>This uses an <a href="https://github.com/m4rw3r/php-libev">unofficial <code>libev</code> extension</a>,
that provides an interface to <code>libev</code> library.
<code>libev</code> itself supports a number of system-specific backends (epoll, kqueue).</p>
<p>This loop does only work with PHP 5.
An update for PHP 7 is <a href="https://github.com/m4rw3r/php-libev/issues/8">unlikely</a>
to happen any time soon.</p>
<h3><a id="loopinterface" class="anchor" aria-hidden="true" href="#loopinterface"><span aria-hidden="true" class="octicon octicon-link"></span></a>LoopInterface</h3>
<h4><a id="run" class="anchor" aria-hidden="true" href="#run"><span aria-hidden="true" class="octicon octicon-link"></span></a>run()</h4>
<p>The <code>run(): void</code> method can be used to
run the event loop until there are no more tasks to perform.</p>
<p>For many applications, this method is the only directly visible
invocation on the event loop.
As a rule of thumb, it is usually recommended to attach everything to the
same loop instance and then run the loop once at the bottom end of the
application.</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">run</span>();</pre></div>
<p>This method will keep the loop running until there are no more tasks
to perform. In other words: This method will block until the last
timer, stream and/or signal has been removed.</p>
<p>Likewise, it is imperative to ensure the application actually invokes
this method once. Adding listeners to the loop and missing to actually
run it will result in the application exiting without actually waiting
for any of the attached listeners.</p>
<p>This method MUST NOT be called while the loop is already running.
This method MAY be called more than once after it has explicitly been
<a href="#stop"><code>stop()</code>ped</a> or after it automatically stopped because it
previously did no longer have anything to do.</p>
<h4><a id="stop" class="anchor" aria-hidden="true" href="#stop"><span aria-hidden="true" class="octicon octicon-link"></span></a>stop()</h4>
<p>The <code>stop(): void</code> method can be used to
instruct a running event loop to stop.</p>
<p>This method is considered advanced usage and should be used with care.
As a rule of thumb, it is usually recommended to let the loop stop
only automatically when it no longer has anything to do.</p>
<p>This method can be used to explicitly instruct the event loop to stop:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addTimer</span>(<span class="pl-c1">3.0</span>, <span class="pl-k">function</span> () <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>loop</span>) {
    <span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">stop</span>();
});</pre></div>
<p>Calling this method on a loop instance that is not currently running or
on a loop instance that has already been stopped has no effect.</p>
<h4><a id="addtimer" class="anchor" aria-hidden="true" href="#addtimer"><span aria-hidden="true" class="octicon octicon-link"></span></a>addTimer()</h4>
<p>The <code>addTimer(float $interval, callable $callback): TimerInterface</code> method can be used to
enqueue a callback to be invoked once after the given interval.</p>
<p>The second parameter MUST be a timer callback function that accepts
the timer instance as its only parameter.
If you don't use the timer instance inside your timer callback function
you MAY use a function which has no parameters at all.</p>
<p>The timer callback function MUST NOT throw an <code>Exception</code>.
The return value of the timer callback function will be ignored and has
no effect, so for performance reasons you're recommended to not return
any excessive data structures.</p>
<p>This method returns a timer instance. The same timer instance will also be
passed into the timer callback function as described above.
You can invoke <a href="#canceltimer"><code>cancelTimer</code></a> to cancel a pending timer.
Unlike <a href="#addperiodictimer"><code>addPeriodicTimer()</code></a>, this method will ensure
the callback will be invoked only once after the given interval.</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addTimer</span>(<span class="pl-c1">0.8</span>, <span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'world!'</span> . <span class="pl-c1">PHP_EOL</span>;
});

<span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addTimer</span>(<span class="pl-c1">0.3</span>, <span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'hello '</span>;
});</pre></div>
<p>See also <a href="https://github.com/reactphp/event-loop/blob/v1.3.0/examples">example #1</a>.</p>
<p>If you want to access any variables within your callback function, you
can bind arbitrary data to a callback closure like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">function</span> <span class="pl-en">hello</span>(<span class="pl-s1"><span class="pl-c1">$</span>name</span>, <span class="pl-smi"><span class="pl-smi">LoopInterface</span></span> <span class="pl-s1"><span class="pl-c1">$</span>loop</span>)
{
    <span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addTimer</span>(<span class="pl-c1">1.0</span>, <span class="pl-k">function</span> () <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>name</span>) {
        <span class="pl-k">echo</span> "<span class="pl-s">hello </span><span class="pl-s1"><span class="pl-c1">$</span>name</span>\n";
    });
}

hello(<span class="pl-s">'Tester'</span>, <span class="pl-s1"><span class="pl-c1">$</span>loop</span>);</pre></div>
<p>This interface does not enforce any particular timer resolution, so
special care may have to be taken if you rely on very high precision with
millisecond accuracy or below. Event loop implementations SHOULD work on
a best effort basis and SHOULD provide at least millisecond accuracy
unless otherwise noted. Many existing event loop implementations are
known to provide microsecond accuracy, but it's generally not recommended
to rely on this high precision.</p>
<p>Similarly, the execution order of timers scheduled to execute at the
same time (within its possible accuracy) is not guaranteed.</p>
<p>This interface suggests that event loop implementations SHOULD use a
monotonic time source if available. Given that a monotonic time source is
only available as of PHP 7.3 by default, event loop implementations MAY
fall back to using wall-clock time.
While this does not affect many common use cases, this is an important
distinction for programs that rely on a high time precision or on systems
that are subject to discontinuous time adjustments (time jumps).
This means that if you schedule a timer to trigger in 30s and then adjust
your system time forward by 20s, the timer SHOULD still trigger in 30s.
See also <a href="#loop-implementations">event loop implementations</a> for more details.</p>
<h4><a id="addperiodictimer" class="anchor" aria-hidden="true" href="#addperiodictimer"><span aria-hidden="true" class="octicon octicon-link"></span></a>addPeriodicTimer()</h4>
<p>The <code>addPeriodicTimer(float $interval, callable $callback): TimerInterface</code> method can be used to
enqueue a callback to be invoked repeatedly after the given interval.</p>
<p>The second parameter MUST be a timer callback function that accepts
the timer instance as its only parameter.
If you don't use the timer instance inside your timer callback function
you MAY use a function which has no parameters at all.</p>
<p>The timer callback function MUST NOT throw an <code>Exception</code>.
The return value of the timer callback function will be ignored and has
no effect, so for performance reasons you're recommended to not return
any excessive data structures.</p>
<p>This method returns a timer instance. The same timer instance will also be
passed into the timer callback function as described above.
Unlike <a href="#addtimer"><code>addTimer()</code></a>, this method will ensure the callback
will be invoked infinitely after the given interval or until you invoke
<a href="#canceltimer"><code>cancelTimer</code></a>.</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>timer</span> = <span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addPeriodicTimer</span>(<span class="pl-c1">0.1</span>, <span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'tick!'</span> . <span class="pl-c1">PHP_EOL</span>;
});

<span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addTimer</span>(<span class="pl-c1">1.0</span>, <span class="pl-k">function</span> () <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>loop</span>, <span class="pl-s1"><span class="pl-c1">$</span>timer</span>) {
    <span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">cancelTimer</span>(<span class="pl-s1"><span class="pl-c1">$</span>timer</span>);
    <span class="pl-k">echo</span> <span class="pl-s">'Done'</span> . <span class="pl-c1">PHP_EOL</span>;
});</pre></div>
<p>See also <a href="https://github.com/reactphp/event-loop/blob/v1.3.0/examples">example #2</a>.</p>
<p>If you want to limit the number of executions, you can bind
arbitrary data to a callback closure like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">function</span> <span class="pl-en">hello</span>(<span class="pl-s1"><span class="pl-c1">$</span>name</span>, <span class="pl-smi"><span class="pl-smi">LoopInterface</span></span> <span class="pl-s1"><span class="pl-c1">$</span>loop</span>)
{
    <span class="pl-s1"><span class="pl-c1">$</span>n</span> = <span class="pl-c1">3</span>;
    <span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addPeriodicTimer</span>(<span class="pl-c1">1.0</span>, <span class="pl-k">function</span> (<span class="pl-s1"><span class="pl-c1">$</span>timer</span>) <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>name</span>, <span class="pl-s1"><span class="pl-c1">$</span>loop</span>, &amp;<span class="pl-s1"><span class="pl-c1">$</span>n</span>) {
        <span class="pl-k">if</span> (<span class="pl-s1"><span class="pl-c1">$</span>n</span> &gt; <span class="pl-c1">0</span>) {
            --<span class="pl-s1"><span class="pl-c1">$</span>n</span>;
            <span class="pl-k">echo</span> "<span class="pl-s">hello </span><span class="pl-s1"><span class="pl-c1">$</span>name</span>\n";
        } <span class="pl-k">else</span> {
            <span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">cancelTimer</span>(<span class="pl-s1"><span class="pl-c1">$</span>timer</span>);
        }
    });
}

hello(<span class="pl-s">'Tester'</span>, <span class="pl-s1"><span class="pl-c1">$</span>loop</span>);</pre></div>
<p>This interface does not enforce any particular timer resolution, so
special care may have to be taken if you rely on very high precision with
millisecond accuracy or below. Event loop implementations SHOULD work on
a best effort basis and SHOULD provide at least millisecond accuracy
unless otherwise noted. Many existing event loop implementations are
known to provide microsecond accuracy, but it's generally not recommended
to rely on this high precision.</p>
<p>Similarly, the execution order of timers scheduled to execute at the
same time (within its possible accuracy) is not guaranteed.</p>
<p>This interface suggests that event loop implementations SHOULD use a
monotonic time source if available. Given that a monotonic time source is
only available as of PHP 7.3 by default, event loop implementations MAY
fall back to using wall-clock time.
While this does not affect many common use cases, this is an important
distinction for programs that rely on a high time precision or on systems
that are subject to discontinuous time adjustments (time jumps).
This means that if you schedule a timer to trigger in 30s and then adjust
your system time forward by 20s, the timer SHOULD still trigger in 30s.
See also <a href="#loop-implementations">event loop implementations</a> for more details.</p>
<p>Additionally, periodic timers may be subject to timer drift due to
re-scheduling after each invocation. As such, it's generally not
recommended to rely on this for high precision intervals with millisecond
accuracy or below.</p>
<h4><a id="canceltimer" class="anchor" aria-hidden="true" href="#canceltimer"><span aria-hidden="true" class="octicon octicon-link"></span></a>cancelTimer()</h4>
<p>The <code>cancelTimer(TimerInterface $timer): void</code> method can be used to
cancel a pending timer.</p>
<p>See also <a href="#addperiodictimer"><code>addPeriodicTimer()</code></a> and <a href="https://github.com/reactphp/event-loop/blob/v1.3.0/examples">example #2</a>.</p>
<p>Calling this method on a timer instance that has not been added to this
loop instance or on a timer that has already been cancelled has no effect.</p>
<h4><a id="futuretick" class="anchor" aria-hidden="true" href="#futuretick"><span aria-hidden="true" class="octicon octicon-link"></span></a>futureTick()</h4>
<p>The <code>futureTick(callable $listener): void</code> method can be used to
schedule a callback to be invoked on a future tick of the event loop.</p>
<p>This works very much similar to timers with an interval of zero seconds,
but does not require the overhead of scheduling a timer queue.</p>
<p>The tick callback function MUST be able to accept zero parameters.</p>
<p>The tick callback function MUST NOT throw an <code>Exception</code>.
The return value of the tick callback function will be ignored and has
no effect, so for performance reasons you're recommended to not return
any excessive data structures.</p>
<p>If you want to access any variables within your callback function, you
can bind arbitrary data to a callback closure like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-k">function</span> <span class="pl-en">hello</span>(<span class="pl-s1"><span class="pl-c1">$</span>name</span>, <span class="pl-smi"><span class="pl-smi">LoopInterface</span></span> <span class="pl-s1"><span class="pl-c1">$</span>loop</span>)
{
    <span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">futureTick</span>(<span class="pl-k">function</span> () <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>name</span>) {
        <span class="pl-k">echo</span> "<span class="pl-s">hello </span><span class="pl-s1"><span class="pl-c1">$</span>name</span>\n";
    });
}

hello(<span class="pl-s">'Tester'</span>, <span class="pl-s1"><span class="pl-c1">$</span>loop</span>);</pre></div>
<p>Unlike timers, tick callbacks are guaranteed to be executed in the order
they are enqueued.
Also, once a callback is enqueued, there's no way to cancel this operation.</p>
<p>This is often used to break down bigger tasks into smaller steps (a form
of cooperative multitasking).</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">futureTick</span>(<span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'b'</span>;
});
<span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">futureTick</span>(<span class="pl-k">function</span> () {
    <span class="pl-k">echo</span> <span class="pl-s">'c'</span>;
});
<span class="pl-k">echo</span> <span class="pl-s">'a'</span>;</pre></div>
<p>See also <a href="https://github.com/reactphp/event-loop/blob/v1.3.0/examples">example #3</a>.</p>
<h4><a id="addsignal" class="anchor" aria-hidden="true" href="#addsignal"><span aria-hidden="true" class="octicon octicon-link"></span></a>addSignal()</h4>
<p>The <code>addSignal(int $signal, callable $listener): void</code> method can be used to
register a listener to be notified when a signal has been caught by this process.</p>
<p>This is useful to catch user interrupt signals or shutdown signals from
tools like <code>supervisor</code> or <code>systemd</code>.</p>
<p>The second parameter MUST be a listener callback function that accepts
the signal as its only parameter.
If you don't use the signal inside your listener callback function
you MAY use a function which has no parameters at all.</p>
<p>The listener callback function MUST NOT throw an <code>Exception</code>.
The return value of the listener callback function will be ignored and has
no effect, so for performance reasons you're recommended to not return
any excessive data structures.</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addSignal</span>(<span class="pl-c1">SIGINT</span>, <span class="pl-k">function</span> (<span class="pl-smi">int</span> <span class="pl-s1"><span class="pl-c1">$</span>signal</span>) {
    <span class="pl-k">echo</span> <span class="pl-s">'Caught user interrupt signal'</span> . <span class="pl-c1">PHP_EOL</span>;
});</pre></div>
<p>See also <a href="https://github.com/reactphp/event-loop/blob/v1.3.0/examples">example #4</a>.</p>
<p>Signaling is only available on Unix-like platforms, Windows isn't
supported due to operating system limitations.
This method may throw a <code>BadMethodCallException</code> if signals aren't
supported on this platform, for example when required extensions are
missing.</p>
<p><strong>Note: A listener can only be added once to the same signal, any
attempts to add it more than once will be ignored.</strong></p>
<h4><a id="removesignal" class="anchor" aria-hidden="true" href="#removesignal"><span aria-hidden="true" class="octicon octicon-link"></span></a>removeSignal()</h4>
<p>The <code>removeSignal(int $signal, callable $listener): void</code> method can be used to
remove a previously added signal listener.</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">removeSignal</span>(<span class="pl-c1">SIGINT</span>, <span class="pl-s1"><span class="pl-c1">$</span>listener</span>);</pre></div>
<p>Any attempts to remove listeners that aren't registered will be ignored.</p>
<h4><a id="addreadstream" class="anchor" aria-hidden="true" href="#addreadstream"><span aria-hidden="true" class="octicon octicon-link"></span></a>addReadStream()</h4>
<blockquote>
<p>Advanced! Note that this low-level API is considered advanced usage.
Most use cases should probably use the higher-level
<a href="../stream/#readablestreaminterface">readable Stream API</a>
instead.</p>
</blockquote>
<p>The <code>addReadStream(resource $stream, callable $callback): void</code> method can be used to
register a listener to be notified when a stream is ready to read.</p>
<p>The first parameter MUST be a valid stream resource that supports
checking whether it is ready to read by this loop implementation.
A single stream resource MUST NOT be added more than once.
Instead, either call <a href="#removereadstream"><code>removeReadStream()</code></a> first or
react to this event with a single listener and then dispatch from this
listener. This method MAY throw an <code>Exception</code> if the given resource type
is not supported by this loop implementation.</p>
<p>The second parameter MUST be a listener callback function that accepts
the stream resource as its only parameter.
If you don't use the stream resource inside your listener callback function
you MAY use a function which has no parameters at all.</p>
<p>The listener callback function MUST NOT throw an <code>Exception</code>.
The return value of the listener callback function will be ignored and has
no effect, so for performance reasons you're recommended to not return
any excessive data structures.</p>
<p>If you want to access any variables within your callback function, you
can bind arbitrary data to a callback closure like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addReadStream</span>(<span class="pl-s1"><span class="pl-c1">$</span>stream</span>, <span class="pl-k">function</span> (<span class="pl-s1"><span class="pl-c1">$</span>stream</span>) <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>name</span>) {
    <span class="pl-k">echo</span> <span class="pl-s1"><span class="pl-c1">$</span>name</span> . <span class="pl-s">' said: '</span> . fread(<span class="pl-s1"><span class="pl-c1">$</span>stream</span>);
});</pre></div>
<p>See also <a href="https://github.com/reactphp/event-loop/blob/v1.3.0/examples">example #11</a>.</p>
<p>You can invoke <a href="#removereadstream"><code>removeReadStream()</code></a> to remove the
read event listener for this stream.</p>
<p>The execution order of listeners when multiple streams become ready at
the same time is not guaranteed.</p>
<p>Some event loop implementations are known to only trigger the listener if
the stream <em>becomes</em> readable (edge-triggered) and may not trigger if the
stream has already been readable from the beginning.
This also implies that a stream may not be recognized as readable when data
is still left in PHP's internal stream buffers.
As such, it's recommended to use <code>stream_set_read_buffer($stream, 0);</code>
to disable PHP's internal read buffer in this case.</p>
<h4><a id="addwritestream" class="anchor" aria-hidden="true" href="#addwritestream"><span aria-hidden="true" class="octicon octicon-link"></span></a>addWriteStream()</h4>
<blockquote>
<p>Advanced! Note that this low-level API is considered advanced usage.
Most use cases should probably use the higher-level
<a href="../stream/#writablestreaminterface">writable Stream API</a>
instead.</p>
</blockquote>
<p>The <code>addWriteStream(resource $stream, callable $callback): void</code> method can be used to
register a listener to be notified when a stream is ready to write.</p>
<p>The first parameter MUST be a valid stream resource that supports
checking whether it is ready to write by this loop implementation.
A single stream resource MUST NOT be added more than once.
Instead, either call <a href="#removewritestream"><code>removeWriteStream()</code></a> first or
react to this event with a single listener and then dispatch from this
listener. This method MAY throw an <code>Exception</code> if the given resource type
is not supported by this loop implementation.</p>
<p>The second parameter MUST be a listener callback function that accepts
the stream resource as its only parameter.
If you don't use the stream resource inside your listener callback function
you MAY use a function which has no parameters at all.</p>
<p>The listener callback function MUST NOT throw an <code>Exception</code>.
The return value of the listener callback function will be ignored and has
no effect, so for performance reasons you're recommended to not return
any excessive data structures.</p>
<p>If you want to access any variables within your callback function, you
can bind arbitrary data to a callback closure like this:</p>
<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">$</span>loop</span>-&gt;<span class="pl-en">addWriteStream</span>(<span class="pl-s1"><span class="pl-c1">$</span>stream</span>, <span class="pl-k">function</span> (<span class="pl-s1"><span class="pl-c1">$</span>stream</span>) <span class="pl-k">use</span> (<span class="pl-s1"><span class="pl-c1">$</span>name</span>) {
    fwrite(<span class="pl-s1"><span class="pl-c1">$</span>stream</span>, <span class="pl-s">'Hello '</span> . <span class="pl-s1"><span class="pl-c1">$</span>name</span>);
});</pre></div>
<p>See also <a href="https://github.com/reactphp/event-loop/blob/v1.3.0/examples">example #12</a>.</p>
<p>You can invoke <a href="#removewritestream"><code>removeWriteStream()</code></a> to remove the
write event listener for this stream.</p>
<p>The execution order of listeners when multiple streams become ready at
the same time is not guaranteed.</p>
<h4><a id="removereadstream" class="anchor" aria-hidden="true" href="#removereadstream"><span aria-hidden="true" class="octicon octicon-link"></span></a>removeReadStream()</h4>
<p>The <code>removeReadStream(resource $stream): void</code> method can be used to
remove the read event listener for the given stream.</p>
<p>Removing a stream from the loop that has already been removed or trying
to remove a stream that was never added or is invalid has no effect.</p>
<h4><a id="removewritestream" class="anchor" aria-hidden="true" href="#removewritestream"><span aria-hidden="true" class="octicon octicon-link"></span></a>removeWriteStream()</h4>
<p>The <code>removeWriteStream(resource $stream): void</code> method can be used to
remove the write event listener for the given stream.</p>
<p>Removing a stream from the loop that has already been removed or trying
to remove a stream that was never added or is invalid has no effect.</p>
<h2><a id="install" class="anchor" aria-hidden="true" href="#install"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install</h2>
<p>The recommended way to install this library is <a href="https://getcomposer.org/" rel="nofollow">through Composer</a>.
<a href="https://getcomposer.org/doc/00-intro.md" rel="nofollow">New to Composer?</a></p>
<p>This project follows <a href="https://semver.org/" rel="nofollow">SemVer</a>.
This will install the latest supported version:</p>
<div class="highlight highlight-source-shell"><pre>$ composer require react/event-loop:^1.3</pre></div>
<p>See also the <a href="changelog.html">CHANGELOG</a> for details about version upgrades.</p>
<p>This project aims to run on any platform and thus does not require any PHP
extensions and supports running on legacy PHP 5.3 through current PHP 8+ and
HHVM.
It's <em>highly recommended to use PHP 7+</em> for this project.</p>
<p>Installing any of the event loop extensions is suggested, but entirely optional.
See also <a href="#loop-implementations">event loop implementations</a> for more details.</p>
<h2><a id="tests" class="anchor" aria-hidden="true" href="#tests"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tests</h2>
<p>To run the test suite, you first need to clone this repo and then install all
dependencies <a href="https://getcomposer.org/" rel="nofollow">through Composer</a>:</p>
<div class="highlight highlight-source-shell"><pre>$ composer install</pre></div>
<p>To run the test suite, go to the project root and run:</p>
<div class="highlight highlight-source-shell"><pre>$ vendor/bin/phpunit</pre></div>
<h2><a id="license" class="anchor" aria-hidden="true" href="#license"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>
<p>MIT, see <a href="license.html">LICENSE file</a>.</p>
<h2><a id="more" class="anchor" aria-hidden="true" href="#more"><span aria-hidden="true" class="octicon octicon-link"></span></a>More</h2>
<ul>
<li>See our <a href="../stream/">Stream component</a> for more
information on how streams are used in real-world applications.</li>
<li>See our <a href="https://github.com/reactphp/react/wiki/Users">users wiki</a> and the
<a href="https://packagist.org/packages/react/event-loop/dependents" rel="nofollow">dependents on Packagist</a>
for a list of packages that use the EventLoop in real-world applications.</li>
</ul>
                                </main>
                <aside class="sidebar" role="complementary">
                    <section class="component-info">
                        <h2 class="component-info__title">
                            <a href="../event-loop/">EventLoop</a>

                            <div class="version-selector">
                                <button class="version-selector__button version-selector__button--latest" data-ctrly="component-version-selector" data-version-selector-control>
                                    v1.3.0

                                    <i class="icon-chevron-down" aria-hidden="true"></i>
                                    <i class="icon-chevron-up" aria-hidden="true"></i>
                                </button>

                                <div id="component-version-selector" class="version-selector__panel" aria-hidden="true">
                                    <p>Read the documentation of development and older versions on GitHub:</p>

                                    <ul class="version-selector__list">
                                        <li>
                                            <a href="https://github.com/reactphp/event-loop#readme" class="version-selector__version version-selector__version--dev">
                                                master
                                            </a>
                                        </li>
                                                                                                                                                                                                                    <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v1.2.0#readme" class="version-selector__version">
                                                    v1.2.0
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v1.1.1#readme" class="version-selector__version">
                                                    v1.1.1
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v1.1.0#readme" class="version-selector__version">
                                                    v1.1.0
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v1.0.0#readme" class="version-selector__version">
                                                    v1.0.0
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.5.3#readme" class="version-selector__version">
                                                    v0.5.3
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.5.2#readme" class="version-selector__version">
                                                    v0.5.2
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.5.1#readme" class="version-selector__version">
                                                    v0.5.1
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.5.0#readme" class="version-selector__version">
                                                    v0.5.0
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.4.3#readme" class="version-selector__version">
                                                    v0.4.3
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.3.5#readme" class="version-selector__version">
                                                    v0.3.5
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.4.2#readme" class="version-selector__version">
                                                    v0.4.2
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.4.1#readme" class="version-selector__version">
                                                    v0.4.1
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.4.0#readme" class="version-selector__version">
                                                    v0.4.0
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.3.4#readme" class="version-selector__version">
                                                    v0.3.4
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.3.3#readme" class="version-selector__version">
                                                    v0.3.3
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.3.0#readme" class="version-selector__version">
                                                    v0.3.0
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.2.7#readme" class="version-selector__version">
                                                    v0.2.7
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.2.6#readme" class="version-selector__version">
                                                    v0.2.6
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.2.3#readme" class="version-selector__version">
                                                    v0.2.3
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.2.0#readme" class="version-selector__version">
                                                    v0.2.0
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.1.1#readme" class="version-selector__version">
                                                    v0.1.1
                                                </a>
                                            </li>
                                                                                                                                                                            <li>
                                                <a href="https://github.com/reactphp/event-loop/tree/v0.1.0#readme" class="version-selector__version">
                                                    v0.1.0
                                                </a>
                                            </li>
                                                                                                                        </ul>
                                </div>
                            </div>
                        </h2>

                        <ul class="component-info__info">
                            <li>
                                <a href="https://github.com/reactphp/event-loop">
                                    <i class="icon-github" aria-hidden="true"></i> Repository
                                </a>
                            </li>
                            <li>
                                <a href="../event-loop/changelog.html">
                                    <i class="icon-calendar" aria-hidden="true"></i> Changelog
                                </a>
                            </li>
                            <li>
                                <a href="../event-loop/license.html">
                                    <i class="icon-law" aria-hidden="true"></i> MIT License
                                </a>
                            </li>
                        </ul>

                        <h3 class="component-info__subtitle">Installation</h3>

                        <div class="highlight highlight-source-shell"><pre>composer require react/event-loop:^1.3.0</pre></div>

                        <h3 class="component-info__subtitle">Contributors</h3>

                        <ul class="component-info__contributors">
                                                    <li>
                                <a href="https://github.com/clue">
                                    <img src="https://avatars.githubusercontent.com/u/776829?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/776829?v=4&amp;s=80 2x" alt="clue" title="clue (124 contributions)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/WyriHaximus">
                                    <img src="https://avatars.githubusercontent.com/u/147145?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/147145?v=4&amp;s=80 2x" alt="WyriHaximus" title="WyriHaximus (81 contributions)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/jsor">
                                    <img src="https://avatars.githubusercontent.com/u/55574?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/55574?v=4&amp;s=80 2x" alt="jsor" title="jsor (52 contributions)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/igorw">
                                    <img src="https://avatars.githubusercontent.com/u/88061?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/88061?v=4&amp;s=80 2x" alt="igorw" title="igorw (46 contributions)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/nrk">
                                    <img src="https://avatars.githubusercontent.com/u/17923?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/17923?v=4&amp;s=80 2x" alt="nrk" title="nrk (33 contributions)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/cboden">
                                    <img src="https://avatars.githubusercontent.com/u/617694?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/617694?v=4&amp;s=80 2x" alt="cboden" title="cboden (31 contributions)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/jmalloc">
                                    <img src="https://avatars.githubusercontent.com/u/761536?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/761536?v=4&amp;s=80 2x" alt="jmalloc" title="jmalloc (30 contributions)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/SimonFrings">
                                    <img src="https://avatars.githubusercontent.com/u/44357440?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/44357440?v=4&amp;s=80 2x" alt="SimonFrings" title="SimonFrings (8 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/cebe">
                                    <img src="https://avatars.githubusercontent.com/u/189796?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/189796?v=4&amp;s=80 2x" alt="cebe" title="cebe (6 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/ivkalita">
                                    <img src="https://avatars.githubusercontent.com/u/3984307?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/3984307?v=4&amp;s=80 2x" alt="ivkalita" title="ivkalita (6 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/kooldev">
                                    <img src="https://avatars.githubusercontent.com/u/53789145?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/53789145?v=4&amp;s=80 2x" alt="kooldev" title="kooldev (5 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/carusogabriel">
                                    <img src="https://avatars.githubusercontent.com/u/16328050?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/16328050?v=4&amp;s=80 2x" alt="carusogabriel" title="carusogabriel (4 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/Ocramius">
                                    <img src="https://avatars.githubusercontent.com/u/154256?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/154256?v=4&amp;s=80 2x" alt="Ocramius" title="Ocramius (4 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/cameronjacobson">
                                    <img src="https://avatars.githubusercontent.com/u/2303661?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/2303661?v=4&amp;s=80 2x" alt="cameronjacobson" title="cameronjacobson (3 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/kelunik">
                                    <img src="https://avatars.githubusercontent.com/u/2743004?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/2743004?v=4&amp;s=80 2x" alt="kelunik" title="kelunik (3 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/nhedger">
                                    <img src="https://avatars.githubusercontent.com/u/649677?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/649677?v=4&amp;s=80 2x" alt="nhedger" title="nhedger (3 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/PabloKowalczyk">
                                    <img src="https://avatars.githubusercontent.com/u/11366345?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/11366345?v=4&amp;s=80 2x" alt="PabloKowalczyk" title="PabloKowalczyk (2 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/steverhoades">
                                    <img src="https://avatars.githubusercontent.com/u/1146668?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/1146668?v=4&amp;s=80 2x" alt="steverhoades" title="steverhoades (2 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/nawarian">
                                    <img src="https://avatars.githubusercontent.com/u/3905582?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/3905582?v=4&amp;s=80 2x" alt="nawarian" title="nawarian (2 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/andrewminerd">
                                    <img src="https://avatars.githubusercontent.com/u/488901?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/488901?v=4&amp;s=80 2x" alt="andrewminerd" title="andrewminerd (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/DaveRandom">
                                    <img src="https://avatars.githubusercontent.com/u/2396425?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/2396425?v=4&amp;s=80 2x" alt="DaveRandom" title="DaveRandom (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/dbu">
                                    <img src="https://avatars.githubusercontent.com/u/76576?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/76576?v=4&amp;s=80 2x" alt="dbu" title="dbu (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/Donatello-za">
                                    <img src="https://avatars.githubusercontent.com/u/2649302?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/2649302?v=4&amp;s=80 2x" alt="Donatello-za" title="Donatello-za (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/greevex">
                                    <img src="https://avatars.githubusercontent.com/u/148401?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/148401?v=4&amp;s=80 2x" alt="greevex" title="greevex (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/lucasnetau">
                                    <img src="https://avatars.githubusercontent.com/u/9331242?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/9331242?v=4&amp;s=80 2x" alt="lucasnetau" title="lucasnetau (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/lt">
                                    <img src="https://avatars.githubusercontent.com/u/1503065?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/1503065?v=4&amp;s=80 2x" alt="lt" title="lt (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/lcobucci">
                                    <img src="https://avatars.githubusercontent.com/u/201963?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/201963?v=4&amp;s=80 2x" alt="lcobucci" title="lcobucci (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/mkrauser">
                                    <img src="https://avatars.githubusercontent.com/u/494845?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/494845?v=4&amp;s=80 2x" alt="mkrauser" title="mkrauser (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/ondrejmirtes">
                                    <img src="https://avatars.githubusercontent.com/u/104888?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/104888?v=4&amp;s=80 2x" alt="ondrejmirtes" title="ondrejmirtes (1 contribution)">
                                </a>
                            </li>
                                                    <li>
                                <a href="https://github.com/pborreli">
                                    <img src="https://avatars.githubusercontent.com/u/77759?v=4&amp;s=40" srcset="https://avatars.githubusercontent.com/u/77759?v=4&amp;s=80 2x" alt="pborreli" title="pborreli (1 contribution)">
                                </a>
                            </li>
                                                </ul>

                        <h3 class="component-info__subtitle">Activity</h3>

                        <div class="component-info__participation">
                            <svg width="320" height="42">
    <defs>
        <linearGradient id="reactphp-event-loop-participation-gradient" x1="0" x2="0" y1="1" y2="0">
            <stop offset="10%" stop-color="#40a977"></stop>
            <stop offset="90%" stop-color="#ba3525"></stop>
        </linearGradient>
        <mask id="reactphp-event-loop-participation-sparkline" x="0" y="0" width="320" height="40" >
            <polyline 
                transform="translate(0, 40) scale(1,-1)"
                points="0,1 6,1 12,1 18,2 24,2 30,1 36,1 42,1 48,4 54,1 60,1 66,1 72,1 78,1 84,1 90,1 96,1 102,1 108,1 114,1 120,4 126,3 132,6 138,1 144,1 150,8 156,1 162,1 168,1 174,2 180,2 186,1 192,1 198,1 204,1 210,1 216,1 222,1 228,1 234,2 240,2 246,1 252,1 258,1 264,1 270,1 276,1 282,1 288,1 294,1 300,1 306,1" 
                fill="transparent" 
                stroke="#40a977" 
                stroke-width="2"
            >
        </mask>
    </defs>

    <g transform="translate(0, -1.5)">
        <rect 
            x="0" 
            y="-2" 
            width="320" 
            height="42"
            style="stroke:none;fill:url(#reactphp-event-loop-participation-gradient);mask:url(#reactphp-event-loop-participation-sparkline)"
        ></rect>
    </g>
</svg>
                        </div>
                    </section>
                </aside>
            </div>
        </div>
    </div>

            <footer class="footer">
            <div class="wrapper">
                <ul class="links">
                    <li><a href="https://github.com/reactphp"><i class="icon-github" aria-hidden="true"></i> GitHub</a></li>
                    <li><a href="https://twitter.com/reactphp"><i class="icon-twitter" aria-hidden="true"></i> Twitter</a></li>
                    <li><a href="https://gitter.im/reactphp/reactphp"><i class="icon-hash" aria-hidden="true"></i> Gitter</a></li>
                </ul>
            </div>
        </footer>
        </body>
</html>
